import{c as w,j as e,u as C,P as I,T as o,B as a,a as G,b as j,d as f,S as V,E as M,A as c,R as n,I as b,e as O,C as _,f as y,g as i,h as F,F as L,i as R,O as U,V as k,k as B,l as N,m as S}from"./index-fYxGdOoa.js";import{E as W}from"./ExpandLess-Z9ixs-3y.js";const D=w(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),E=w(e.jsx("path",{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69"}),"SettingsApplications"),J=()=>{const{useStorageToggle:l,setUseStorageToggle:d}=C(),x=(v,t)=>{t!==null&&d(t)},p=()=>{switch(l){case"localStorage":return"Credentials are automatically saved and loaded from browser localStorage";case"env":return"Credentials are loaded from environment variables (.env file)";case"state":return"Credentials are entered manually and stored only in component state";default:return""}},m=()=>{switch(l){case"localStorage":return"info";case"env":return"warning";case"state":return"success";default:return"info"}};return e.jsxs(I,{sx:{p:2,mb:2},children:[e.jsxs(o,{variant:"subtitle1",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[e.jsx(E,{}),"Credential Storage Method"]}),e.jsx(a,{sx:{mb:2},children:e.jsxs(G,{value:l,exclusive:!0,onChange:x,"aria-label":"storage method",size:"small",fullWidth:!0,children:[e.jsx(j,{value:"localStorage","aria-label":"localStorage",children:e.jsx(f,{title:"Save credentials in browser localStorage",children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(V,{fontSize:"small"}),"LocalStorage"]})})}),e.jsx(j,{value:"env","aria-label":"environment",children:e.jsx(f,{title:"Load credentials from environment variables",children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(E,{fontSize:"small"}),".env File"]})})}),e.jsx(j,{value:"state","aria-label":"state",children:e.jsx(f,{title:"Enter credentials manually (session only)",children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(M,{fontSize:"small"}),"Manual Entry"]})})})]})}),e.jsx(c,{severity:m(),sx:{fontSize:"0.875rem"},children:p()}),l==="env"&&e.jsx(c,{severity:"warning",sx:{mt:1,fontSize:"0.875rem"},children:e.jsxs(o,{variant:"body2",children:[e.jsx("strong",{children:"Environment variables setup:"}),e.jsx("br",{}),"Create a ",e.jsx("code",{children:".env"})," file with:",e.jsx("br",{}),e.jsx("code",{children:"VITE_EMAIL_USER=your-email@gmail.com"}),e.jsx("br",{}),e.jsx("code",{children:"VITE_DESTINATION_EMAIL_USER=recipient@example.com"}),e.jsx("br",{}),e.jsx("code",{children:"VITE_EMAIL_PASS=your-app-password"})]})})]})},K=()=>{const{userEmail:l,setUserEmail:d,senderEmail:x,setSenderEmail:p,appPassword:m,setAppPassword:v,areCredentialsValid:t,serverStatus:A,useStorageToggle:u}=C(),[h,T]=n.useState(!1),[r,g]=n.useState(()=>{const s=localStorage.getItem("emailCredentialsExpanded");return s!==null?JSON.parse(s):u!=="state"});n.useEffect(()=>{localStorage.setItem("emailCredentialsExpanded",JSON.stringify(r))},[r]),n.useEffect(()=>{g(u==="state")},[u]);const P=()=>{T(!h)},z=()=>{switch(A){case"online":return e.jsx(S,{label:"Server Online",color:"success",size:"small"});case"offline":return e.jsx(S,{label:"Server Offline",color:"error",size:"small"});default:return e.jsx(S,{label:"Checking...",color:"default",size:"small"})}};return e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsxs(I,{sx:{p:3,mb:2},children:[e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,mb:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"},borderRadius:1,p:1,mx:-1},onClick:()=>g(!r),children:[e.jsx(o,{variant:"h6",sx:{flexGrow:1},children:"ðŸ“§ Email Configuration"}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:1},children:[z(),e.jsx(b,{size:"small",children:r?e.jsx(W,{}):e.jsx(O,{})})]})]}),e.jsxs(_,{in:r,children:[!t&&e.jsx(c,{severity:"info",sx:{mb:2},children:"Please configure your email credentials to send emails. Use Gmail app passwords for authentication."}),e.jsxs(a,{sx:{display:"flex",flexDirection:"column",gap:2},children:[e.jsx(y,{label:"Gmail Sender",type:"email",value:x,onChange:s=>p(s.target.value),placeholder:"your-email@gmail.com",fullWidth:!0,InputProps:{startAdornment:e.jsx(i,{position:"start",children:e.jsx(D,{})})},helperText:"The Gmail account you'll send emails from"}),e.jsx(y,{label:"Recipient Email",type:"email",value:l,onChange:s=>d(s.target.value),placeholder:"recipient@example.com",fullWidth:!0,InputProps:{startAdornment:e.jsx(i,{position:"start",children:e.jsx(F,{})})},helperText:"The email address that will receive the template"}),e.jsxs(L,{variant:"outlined",fullWidth:!0,children:[e.jsx(R,{htmlFor:"app-password",children:"Gmail App Password"}),e.jsx(U,{id:"app-password",type:h?"text":"password",value:m,onChange:s=>v(s.target.value),placeholder:"16-character app password",startAdornment:e.jsx(i,{position:"start",children:e.jsx(N,{})}),endAdornment:e.jsx(i,{position:"end",children:e.jsx(b,{"aria-label":"toggle password visibility",onClick:P,edge:"end",children:h?e.jsx(k,{}):e.jsx(B,{})})}),label:"Gmail App Password"})]}),e.jsx(c,{severity:"warning",sx:{mt:1},children:e.jsxs(o,{variant:"body2",children:[e.jsx("strong",{children:"Important:"})," Use Gmail App Passwords, not your regular password.",e.jsx("br",{}),"Generate one at: Google Account â†’ Security â†’ 2-Step Verification â†’ App passwords"]})})]})]})]})]})};export{K as EmailCredentialsForm,K as default};
