# Automation - EPC Network Storage Uploader

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –Ω–∞ storage.epcnetwork.dev —á–µ—Ä–µ–∑ Playwright + Brave Browser.

> üöÄ **–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç:** –ß–∏—Ç–∞–π [QUICK_START.md](QUICK_START.md) –¥–ª—è –ø–æ—á–∞—Ç–∫—É –∑–∞ 5 —Ö–≤–∏–ª–∏–Ω!

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
npm install
```

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –®–≤–∏–¥–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `config.json`:

**üéØ –ö–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–∫—Ä–∏—Ç—Ç—è–º –≤–∫–ª–∞–¥–æ–∫:**
```json
{
  "browser": {
    "autoCloseTab": true,          // true = –∑–∞–∫—Ä–∏–≤–∞—Ç–∏, false = –∑–∞–ª–∏—à–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–æ—é
    "closeDelaySuccess": 0,        // –ó–∞—Ç—Ä–∏–º–∫–∞ –ø—ñ—Å–ª—è —É—Å–ø—ñ—Ö—É (–º—Å): 0, 2000, 5000
    "closeDelayCancel": 3000       // –ó–∞—Ç—Ä–∏–º–∫–∞ –ø—ñ—Å–ª—è —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è (–º—Å): 0, 3000, 5000
  }
}
```

**üîî –ù–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:**
```json
{
  "notifications": {
    "enabled": true  // false —â–æ–± –≤–∏–º–∫–Ω—É—Ç–∏ –∑–≤—É–∫–∏ —Ç–∞ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
  }
}
```

**‚è±Ô∏è –¢–∞–π–º–∞—É—Ç–∏:**
```json
{
  "timeouts": {
    "browserStart": 1500,    // –ó–±—ñ–ª—å—à —è–∫—â–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ–≤—ñ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
    "pageLoad": 10000,       // –ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    "elementWait": 5000      // –ß–∞—Å –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
  }
}
```

**üîÅ –ü–æ–≤—Ç–æ—Ä–∏:**
```json
{
  "retries": {
    "uploadAttempts": 2  // –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å–ø—Ä–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (1-5)
  }
}
```

üìñ **–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** –î–∏–≤–∏—Å—å [CONFIG_GUIDE.md](CONFIG_GUIDE.md) –¥–ª—è –≤—Å—ñ—Ö –æ–ø—Ü—ñ–π

**–í–∞–∂–ª–∏–≤–æ:** –û–Ω–æ–≤—ñ—Ç—å `userDataDir` –Ω–∞ —Å–≤—ñ–π —à–ª—è—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞!

## üì¶ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### üéØ –û—Å–Ω–æ–≤–Ω–∏–π workflow (–∑ —Ñ–æ—Ä–º–æ—é –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∫—Ä–∏–ø—Ç
node scripts/upload-playwright-brave.js /path/to/file.jpg

# –ê–±–æ —á–µ—Ä–µ–∑ bash wrapper (–∑ –ø–µ—Ä–µ–¥–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è–º –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)
./save-in-finance.sh file1.jpg file2.png
./save-in-health.sh file1.jpg
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. üìù **–í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è —Ñ–æ—Ä–º–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è** –≤ Brave
2. üëÄ **–í–∏ –±–∞—á–∏—Ç–µ –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é**:
   - –ù–∞–∑–≤—É —Ñ–∞–π–ª—É
   - –†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—É
   - –ü–æ–≤–Ω–∏–π —à–ª—è—Ö
   - –ü–µ—Ä–µ–¥–∑–∞–ø–æ–≤–Ω–µ–Ω—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é (—è–∫—â–æ —á–µ—Ä–µ–∑ wrapper)
3. ‚úèÔ∏è **–í–≤–æ–¥–∏—Ç–µ/–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î—Ç–µ –¥–∞–Ω—ñ**:
   - –ù–∞–∑–≤–∞ –ø–∞–ø–∫–∏: `ABCD123` (–∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–∏—Ç—å—Å—è –∑ –±—É—Ñ–µ—Ä–∞ —è–∫—â–æ —Ç–∞–º —î)
   - –ö–∞—Ç–µ–≥–æ—Ä—ñ—è: Finance –∞–±–æ Health (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏)
4. ‚úì **–ù–∞—Ç–∏—Å–∫–∞—î—Ç–µ "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏"**
5. üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è**:
   - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Brave —á–µ—Ä–µ–∑ CDP
   - –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ storage
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - –§–æ—Ä–º—É–≤–∞–Ω–Ω—è —à–ª—è—Ö—É: `Promo/finance/abcd/lift-123/`
   - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —Ñ–∞–π–ª –≤–∂–µ —ñ—Å–Ω—É—î
   - –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É
   - –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è —à–ª—è—Ö—É –≤ –±—É—Ñ–µ—Ä
   - macOS –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è

### ‚ö° –†–µ–∂–∏–º –±–µ–∑ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó)

```bash
# –°–∫–æ–ø—ñ—é–π—Ç–µ –Ω–∞–∑–≤—É –ø–∞–ø–∫–∏ –≤ –±—É—Ñ–µ—Ä
echo "ABCD123" | pbcopy

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑ –ø—Ä–∞–ø–æ—Ä—Ü–µ–º --no-confirm
node scripts/upload-playwright-brave.js /path/to/file.jpg finance --no-confirm

# –ê–±–æ —Å–∫–æ—Ä–æ—á–µ–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
node scripts/upload-playwright-brave.js /path/to/file.jpg health -y
```

**–í–∞–∂–ª–∏–≤–æ:** –í —Ä–µ–∂–∏–º—ñ `--no-confirm` –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∞ —ñ –¥–∞–Ω—ñ –±–µ—Ä—É—Ç—å—Å—è –∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º—ñ–Ω—É –±–µ–∑ —Ñ–æ—Ä–º–∏.

## üéØ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

‚ú® **–§–æ—Ä–º–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è**: –ó–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
üìä **–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**: –Ü–º'—è —Ñ–∞–π–ª—É, —Ä–æ–∑–º—ñ—Ä, —à–ª—è—Ö
üé® **Auto-fill**: –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º—ñ–Ω—É
‚úÖ **–ë–µ–∑–ø–µ–∫–∞**: –°–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è –≤–≤–æ–¥—É –¥–ª—è shell –∫–æ–º–∞–Ω–¥
‚úÖ **Retry –º–µ—Ö–∞–Ω—ñ–∑–º**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–æ–≤—Ç–æ—Ä –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
‚úÖ **Smart waiting**: –†–æ–∑—É–º–Ω–µ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
‚úÖ **Duplicate check**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ñ–∞–π–ª—É –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
‚úÖ **Notifications**: –°–∏—Å—Ç–µ–º–Ω—ñ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó + –∑–≤—É–∫–∏ macOS
‚úÖ **Global timeout**: –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è –∑–∞–≤–∏—Å–∞–Ω–Ω—é (120 —Å–µ–∫—É–Ω–¥)
‚úÖ **Config-driven**: –í—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ config.json
‚ö° **Optional skip**: –†–µ–∂–∏–º --no-confirm –¥–ª—è CI/CD

## üõ† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
automation/
‚îú‚îÄ‚îÄ config.json                     # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ package.json                    # Dependencies
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ upload-playwright-brave.js  # –û—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îî‚îÄ‚îÄ upload-form.html           # –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ —Ñ–æ—Ä–º–∞
‚îú‚îÄ‚îÄ save-in-finance.sh              # Wrapper –¥–ª—è Finance
‚îú‚îÄ‚îÄ save-in-health.sh               # Wrapper –¥–ª—è Health
‚îî‚îÄ‚îÄ old/                            # –°—Ç–∞—Ä–∞ –≤–µ—Ä—Å—ñ—è
```

## üîß Troubleshooting

### "Node.js –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Node.js –∞–±–æ –≤–∫–∞–∂—ñ—Ç—å —à–ª—è—Ö:
```bash
NODE=/path/to/node ./save-in-finance.sh file.jpg
```

### "–ü–æ—Ç—Ä—ñ–±–µ–Ω –ª–æ–≥—ñ–Ω"
–ë—Ä–∞—É–∑–µ—Ä –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π. –í—ñ–¥–∫—Ä–∏–π—Ç–µ storage.epcnetwork.dev —Ç–∞ –∑–∞–ª–æ–≥—ñ–Ω—å—Ç–µ—Å—å.

### –ë—Ä–∞—É–∑–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `executablePath` –≤ config.json.

### –§–æ—Ä–º–∞ –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –ø–æ—Ä—Ç 3838 –≤—ñ–ª—å–Ω–∏–π:
```bash
lsof -i :3838
```

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º—É –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤ (CI/CD):
```bash
# –°–ø–æ—á–∞—Ç–∫—É —Å–∫–æ–ø—ñ—é–π—Ç–µ –Ω–∞–∑–≤—É –ø–∞–ø–∫–∏
echo "ABCD123" | pbcopy

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑ --no-confirm
node scripts/upload-playwright-brave.js file.jpg finance --no-confirm
```

## üìù –õ–æ–≥–∏

–°–∫—Ä–∏–ø—Ç –≤–∏–≤–æ–¥–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å:
- üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è
- üìã –î–∞–Ω—ñ –∑ –±—É—Ñ–µ—Ä—É –æ–±–º—ñ–Ω—É
- üåê URL –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- üîç –°—Ç–∞—Ç—É—Å –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫
- ‚úÖ –£—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚ö†Ô∏è –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è —Ç–∞ –ø–æ–º–∏–ª–∫–∏

## üîí Security Notes

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è –≤–≤–æ–¥—É –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è command injection
- Remote debugging port (9222) –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ
- User data –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –æ–∫—Ä–µ–º–æ –≤—ñ–¥ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ñ—ñ–ª—é –±—Ä–∞—É–∑–µ—Ä–∞

## üìä Requirements

- Node.js >= 14
- macOS (—á–µ—Ä–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è pbpaste/pbcopy —Ç–∞ osascript)
- Brave Browser
- Playwright

## License

ISC
